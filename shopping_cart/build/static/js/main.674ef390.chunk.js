(this.webpackJsonpshopping_cart=this.webpackJsonpshopping_cart||[]).push([[0],{32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),o=n(25),s=n.n(o),a=(n(32),n(9)),j=n(3),l=n(2),u=n(8),d=n.n(u),b=n(11),O=Object(i.createContext)(),h=function(e,t){Object(i.useEffect)((function(){a()}),[]);var n=Object(i.useState)([]),r=Object(l.a)(n,2),o=r[0],s=r[1],a=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ffxivcollect.com/api/minions?id_in=120..137");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.results),console.log(n.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(O.Provider,{value:[o,s],children:e.children})},p=Object(i.createContext)(),m=function(e){var t=Object(i.useContext)(O),n=Object(l.a)(t,2),r=(n[0],n[1],Object(i.useState)([])),o=Object(l.a)(r,2),s=o[0],a=o[1];return console.log("cart items from cart context"),console.log(s),Object(c.jsx)(p.Provider,{value:[s,a],children:e.children})},x=function(){var e=Object(i.useContext)(p),t=Object(l.a)(e,2),n=t[0];t[1],n.props;return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{className:"nav-links",children:[Object(c.jsx)(a.b,{to:"/",children:Object(c.jsx)("li",{children:"Home"})}),Object(c.jsx)(a.b,{to:"/about",children:Object(c.jsx)("li",{children:"About"})}),Object(c.jsx)(a.b,{to:"/shop",children:Object(c.jsx)("li",{children:"Shop"})}),Object(c.jsx)(a.b,{to:"/cart",children:Object(c.jsxs)("li",{children:["Cart (",n.length,")"]})})]})})},v=n(15),f=n(16),g=n(19),k=n(17),C=function(e){Object(g.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.call(this)}return Object(f.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Welcome"})})}}]),n}(i.Component),S=function(e){Object(g.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.call(this)}return Object(f.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"About"})})}}]),n}(i.Component),N=n(18),y=function(e){var t=Object(i.useState)(e.price),n=Object(l.a)(t,2),r=(n[0],n[1],Object(i.useContext)(p)),o=Object(l.a)(r,2);o[0],o[1];return Object(c.jsxs)("div",{className:"shopItem",children:[Object(c.jsx)("h3",{className:"itemName",children:e.name}),Object(c.jsx)("h4",{children:e.description}),Object(c.jsx)("h4",{children:e.enhanced_description}),Object(c.jsx)("img",{src:e.imageSrc,alt:e.name}),Object(c.jsx)("h5",{children:e.tooltip}),Object(c.jsxs)("h4",{className:"itemPrice",children:["$",Number(e.price).toFixed(2)]})]})},w=function(e){var t=Object(i.useState)(!0),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)({results:{name:{}},verminion:{}}),a=Object(l.a)(s,2),j=a[0],u=a[1];return Object(i.useEffect)((function(){(function(){var t=Object(b.a)(d.a.mark((function t(){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://ffxivcollect.com/api/minions?id_in=".concat(e.id));case 3:if(n=t.sent,!r){t.next=10;break}return t.next=7,n.json();case 7:c=t.sent,u(c.results[0]),void 0!==c&&o(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),o(!0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.jsx)("div",{children:r?Object(c.jsx)("h2",{children:"loading..."}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:e.id}),Object(c.jsx)("h2",{children:j.name}),Object(c.jsx)("h2",{children:j.description+" "+j.enhanced_description})]})})};var _=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(i.useContext)(O),s=Object(l.a)(o,2),j=s[0],u=(s[1],Object(i.useContext)(p)),d=Object(l.a)(u,2),b=d[0],h=d[1],m=Object(i.useState)(0),x=Object(l.a)(m,2),v=x[0],f=x[1];return Object(c.jsxs)("div",{className:"parent",children:[Object(c.jsx)("h1",{children:"Shop"}),n?Object(c.jsx)("div",{className:"popup",id:"popup",children:Object(c.jsx)(w,{id:v})}):Object(c.jsx)("div",{className:"popup",id:"popup"}),Object(c.jsx)("div",{className:"shop-div",children:j.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:Object(c.jsx)(a.b,{to:"/shop/".concat(e.id),className:"minion-links",children:Object(c.jsx)(y,{name:e.name,imageSrc:e.image,imageAlt:e.name,price:e.verminion.speed+"."+e.verminion.attack})})}),Object(c.jsxs)("div",{className:"buttonDiv",children:[Object(c.jsx)("button",{id:e.id,onMouseOver:function(t){return function(e){r(!0),console.log(n),f(e),document.getElementById("popup").style.display="block"}(e.id)},onMouseOut:function(t){return e.id,r(!1),void(document.getElementById("popup").style.display="none")},children:"quick view"}),Object(c.jsx)("button",{id:e.name,onClick:function(t){return function(e){if(b.length>0){console.log("cart:"),console.log(b);var t=b;t.push(e),t=function(e){if(e.length>1)return e.slice().reverse().filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t})).reverse()}(t),h(t),console.log("removed dupes:"),console.log(t)}else h((function(t){return[].concat(Object(N.a)(t),[e])})),console.log("cart:"),console.log(b)}(e)},children:"add"})]})]},e.id)}))})]})};var A=function(e){var t=e.match;Object(i.useEffect)((function(){a()}),[]);var n=Object(i.useState)({results:{name:{}},verminion:{}}),r=Object(l.a)(n,2),o=r[0],s=r[1],a=function(){var e=Object(b.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ffxivcollect.com/api/minions?id_in=".concat(t.params.id));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,s(c.results[0]),console.log(c.results[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(i.useContext)(p),u=Object(l.a)(j,2);return u[0],u[1],Object(c.jsx)("div",{className:"shop_item_popup",children:Object(c.jsx)("div",{className:"shop-item",children:Object(c.jsx)(y,{name:o.name,description:o.description,enhanced_description:o.enhanced_description,imageSrc:o.image,imageAlt:o.name,tooltip:o.tooltip,price:o.verminion.speed+"."+o.verminion.attack})})})},E=function(e){var t=Object(i.useState)(1),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Number(e.price),a=Object(i.useState)(s),j=Object(l.a)(a,2),u=j[0],d=j[1],b=Object(i.useContext)(p),O=Object(l.a)(b,2),h=O[0],m=O[1],x=Object(i.useState)(0),v=Object(l.a)(x,2),f=(v[0],v[1]),g=Object(i.useState)(void 0),k=Object(l.a)(g,2);k[0],k[1];function C(e){if(console.log("removing item:"+e),h.length-1<1){for(var t=h.length-1;t>-1;t--)if(h[t].name===e){N();var n=h;n.splice(t,1),m(n),console.log("cart from update"),console.log(h),console.log(n)}}else h.length-1<=0&&(N(),m([]))}function S(e){console.log(r+"adding"),o(r+e),y(r,e)}function N(){console.log("resetting count"),o(1),y(1,0)}function y(e,t){d(s*(e+t));var n=Number(u).toFixed(2);console.log("price: "+n+", count: "+e)}var w=h.find((function(t){return t.name===e.name}));return console.log("is it found?"+w),w?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:e.name}),Object(c.jsx)("img",{src:e.imageSrc,alt:e.name}),Object(c.jsxs)("h5",{children:["$",u.toFixed(2)]}),Object(c.jsx)("button",{onClick:function(){return function(e){f(e),r>0&&(r-1>0?(S(-1),console.log(r+"not removing")):r-1<=0&&(console.log("removing item..."+e),C.apply(void 0,arguments),console.log(r+"removing"),N())),r<0&&(C.apply(void 0,arguments),console.log(r+"removing"),N())}(e.name)},children:"-"}),Object(c.jsx)("input",{value:r,onChange:function(e){var t=parseInt(e.target.value);o(t)}}),Object(c.jsx)("button",{onClick:function(){return S(1)},children:"+"})]}):Object(c.jsx)("div",{id:"deleted",children:"deleted"})};var I=function(e){var t=Object(i.useContext)(p),n=Object(l.a)(t,2),r=n[0],o=n[1];return"/cart"!==window.location.pathname?Object(c.jsxs)("div",{className:"cart",id:"cart",children:[Object(c.jsx)("button",{onClick:function(){o([])},children:"empty cart"}),Object(c.jsx)("h3",{children:"Cart"}),r.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{name:e.name,imageSrc:e.icon,imageAlt:e.name,price:e.verminion.speed+"."+e.verminion.attack}),e.name]},e.id)}))]}):Object(c.jsx)(c.Fragment,{children:" "})};var F=function(){var e=Object(i.useContext)(p),t=Object(l.a)(e,2),n=t[0];return t[1],Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Cart"}),n.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)(E,{name:e.name,imageSrc:e.icon,imageAlt:e.name,price:e.verminion.speed+"."+e.verminion.attack})},e.id)}))]})};var B=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(a.a,{children:Object(c.jsx)(j.c,{children:Object(c.jsx)(h,{children:Object(c.jsxs)(m,{children:[Object(c.jsx)(x,{}),Object(c.jsx)(I,{}),Object(c.jsx)(j.a,{path:"/",exact:!0,component:C}),Object(c.jsx)(j.a,{path:"/about",exact:!0,component:S}),Object(c.jsx)(j.a,{path:"/shop",exact:!0,component:_}),Object(c.jsx)(j.a,{path:"/shop/:id",exact:!0,component:A}),Object(c.jsx)(j.a,{path:"/cart",exact:!0,component:F})]})})})})})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.674ef390.chunk.js.map